package org.tron.albert.liang.config;import lombok.extern.slf4j.Slf4j;import org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler;import org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler;import org.springframework.context.annotation.Configuration;import org.springframework.scheduling.annotation.AsyncConfigurer;import org.springframework.scheduling.annotation.EnableScheduling;import org.springframework.scheduling.annotation.SchedulingConfigurer;import org.springframework.scheduling.config.ScheduledTaskRegistrar;import java.util.concurrent.Executor;/** * @author camel * @since 2018/10/10 */@Slf4j@Configuration@EnableSchedulingpublic class ScheduleConfig implements SchedulingConfigurer, AsyncConfigurer {    private final CustomTaskScheduler customTaskScheduler;    public ScheduleConfig(CustomTaskScheduler customTaskScheduler) {        this.customTaskScheduler = customTaskScheduler;    }    @Override    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {        taskRegistrar.setTaskScheduler(customTaskScheduler);    }    @Override    public Executor getAsyncExecutor() {        return customTaskScheduler;    }    @Override    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {        return new SimpleAsyncUncaughtExceptionHandler();    }}